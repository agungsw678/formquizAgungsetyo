<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Form Seminar IT Nasional</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <style>
      body {
        background-color: #79b3ed;
      }
      .container {
        max-width: 600px;
        margin-top: 50px;
      }
      .error {
        color: red;
        font-size: 0.875em;
      }
      .footer {
        background-color: #0d47a1;
        color: white;
        padding: 20px;
        text-align: center;
        margin-top: 20px;
        font-size: 1.2em;
      }
      .navbar-brand {
        display: flex;
        align-items: center;
      }
      .navbar-brand img {
        height: 40px;
        margin-right: 10px;
      }
      .form-control:focus {
        border-color: #0d47a1;
        box-shadow: 0 0 0 0.25rem rgba(13, 71, 161, 0.25);
      }
      .btn-primary {
        background-color: #0d47a1;
        border-color: #0d47a1;
      }
      .btn-primary:hover {
        background-color: #0a3d8c;
        border-color: #0a3d8c;
      }
      .form-control.is-invalid {
        border-color: red;
      }
      .fade-in {
        animation: fadeIn 0.5s ease-in-out;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand" href="#">
          <img src="polteklogo.jpg" alt="Logo PNM" />
          Form Seminar IT Nasional
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
                <a class="nav-link active" href="index.html">Beranda</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="Tentang.html">Tentang</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="Kontak.html">Kontak</a>
              </li>              
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <body>
        <div class="container mt-5">
            <form id="registrationForm">
                <div class="mb-3">
                    <label for="nama" class="form-label">Nama Lengkap</label>
                    <input type="text" class="form-control" id="nama" required>
                    <div class="text-danger" id="namaError"></div>
                </div>
                
                <div class="mb-3">
                    <label for="email" class="form-label">Email</label>
                    <input type="email" class="form-control" id="email" required>
                    <div class="text-danger" id="emailError"></div>
                </div>
                
                <div class="mb-3">
                    <label for="password" class="form-label">Password</label>
                    <input type="password" class="form-control" id="password" required>
                    <div class="text-danger" id="passwordError"></div>
                </div>
                
                <div class="mb-3">
                    <label for="confirmPassword" class="form-label">Konfirmasi Password</label>
                    <input type="password" class="form-control" id="confirmPassword" required>
                    <div class="text-danger" id="confirmPasswordError"></div>
                </div>
                
                <div class="mb-3">
                    <label for="birthdate" class="form-label">Tanggal Lahir</label>
                    <input type="date" class="form-control" id="birthdate" required>
                    <div class="text-danger" id="birthdateError"></div>
                </div>
                
                <div class="mb-3">
                    <label for="phone" class="form-label">Nomor HP (+62)</label>
                    <input type="tel" class="form-control" id="phone" required>
                    <div class="text-danger" id="phoneError"></div>
                </div>
                <form id="myForm">
                  <button type="submit" class="btn btn-primary" id="submitBtn" disabled>Submit</button>
              </form>
              
              <div class="success-message" id="successMessage" style="display: none; opacity: 0; transition: opacity 0.5s ease-in-out;">
                  Formulir berhasil dikirim!
              </div>
              
              <script>
                  document.getElementById("myForm").addEventListener("submit", function(event) {
                      event.preventDefault(); // Mencegah pengiriman form default
                      
                      let successMessage = document.getElementById("successMessage");
                      let submitBtn = document.getElementById("submitBtn");
                      
                      successMessage.style.display = "block";
                      setTimeout(() => {
                          successMessage.style.opacity = "1";
                      }, 100);
                      
                      submitBtn.innerText = "Terkirim";
                      submitBtn.style.backgroundColor = "#000000";
                      submitBtn.style.borderColor = "#000000";
                      submitBtn.disabled = true;
                  });
              </script>
              
                
            </form>
        </div>
        
        <script>
            const form = document.getElementById("registrationForm");
            const submitBtn = document.getElementById("submitBtn");
            
            function validateForm() {
                let isValid = true;
                
                const nama = document.getElementById("nama");
                const email = document.getElementById("email");
                const password = document.getElementById("password");
                const confirmPassword = document.getElementById("confirmPassword");
                const birthdate = document.getElementById("birthdate");
                const phone = document.getElementById("phone");
                
                const namaError = document.getElementById("namaError");
                const emailError = document.getElementById("emailError");
                const passwordError = document.getElementById("passwordError");
                const confirmPasswordError = document.getElementById("confirmPasswordError");
                const birthdateError = document.getElementById("birthdateError");
                const phoneError = document.getElementById("phoneError");
                
                namaError.textContent = emailError.textContent = passwordError.textContent = confirmPasswordError.textContent = birthdateError.textContent = phoneError.textContent = "";
                nama.classList.remove("is-invalid");
                email.classList.remove("is-invalid");
                password.classList.remove("is-invalid");
                confirmPassword.classList.remove("is-invalid");
                birthdate.classList.remove("is-invalid");
                phone.classList.remove("is-invalid");
                
                if (nama.value.trim().length < 3) {
                    namaError.textContent = "Nama harus minimal 3 karakter.";
                    nama.classList.add("is-invalid");
                    isValid = false;
                }
                
                const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailPattern.test(email.value)) {
                    emailError.textContent = "Format email tidak valid.";
                    email.classList.add("is-invalid");
                    isValid = false;
                }
                
                if (password.value.length < 8) {
                    passwordError.textContent = "Password minimal 8 karakter.";
                    password.classList.add("is-invalid");
                    isValid = false;
                }
                
                if (confirmPassword.value !== password.value) {
                    confirmPasswordError.textContent = "Konfirmasi password harus sama.";
                    confirmPassword.classList.add("is-invalid");
                    isValid = false;
                }
                
                const birthYear = new Date(birthdate.value).getFullYear();
                if (birthYear > 2006) {
                    birthdateError.textContent = "Usia minimal harus 18 tahun.";
                    birthdate.classList.add("is-invalid");
                    isValid = false;
                }
                
                const phonePattern = /^\+62\d{9,13}$/;
                if (!phonePattern.test(phone.value)) {
                    phoneError.textContent = "Nomor HP harus berformat +62 dan memiliki 9-13 digit.";
                    phone.classList.add("is-invalid");
                    isValid = false;
                }
                
                submitBtn.disabled = !isValid;
            }
            
            document.querySelectorAll("input").forEach(input => {
                input.addEventListener("input", validateForm);
            });
            
            form.addEventListener("submit", function(event) {
                event.preventDefault();
                document.getElementById("successMessage").style.display = "block";
                setTimeout(() => {
                    window.location.href = "Tentang.html";
                }, 1500);
            });
        </script>
          </div>
          </button>
        </form>
      </main>
    </div>

    <footer class="footer">
      <div class="container">&copy; 2025 Agung Setyo W | NIM: 243307002</div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const phoneInput = document.getElementById("phone");
        const phoneError = document.getElementById("phoneError");
        const registrationForm = document.getElementById("registrationForm");


        registrationForm.addEventListener("submit", function(event) {
            event.preventDefault(); // Mencegah form dari pengiriman default
            validatePhone();
        });

        function validatePhone() {
            const phoneValue = phoneInput.value.trim();
            const expectedLength = 14; // Panjang yang diharapkan: +6281234567890

            if (!phoneValue.startsWith("+62")) {
                phoneError.textContent = "Nomor HP harus diawali dengan +62";
                phoneInput.classList.add("is-invalid");
                return; // Hentikan fungsi jika tidak valid
            }

            if(phoneValue.length !== expectedLength){
                phoneError.textContent = "Nomor HP tidak sesuai panjang yang diharapkan";
                phoneInput.classList.add("is-invalid");
                return;
            }

            phoneError.textContent = "";
            phoneInput.classList.remove("is-invalid");
            
        }
    });
    </script>
    </script>
  </body>
</html>
